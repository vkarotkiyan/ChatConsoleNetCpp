## ChatConsoleNetDBCpp

Учебный консольный чат, обладающий следующей функциональностью:
* консольные программы: сервер и клиент
* сервер и клиент для обмена сообщениями используют сокеты
* регистрация пользователей - логин, пароль, имя
* вход в чат по логину/паролю
* обмен сообщениями между всеми пользователями чата одновременно
* отправка сообщений конкретному пользователю
* обработка исключений
* Настройки чата сохраняются в конфигурационных файлах сервера и клиента
* данные о пользователях (логины, хэши паролей, имена) и сообщения сохраняются в базе MySQL
* клиент взаимодействует с сервером, сервер принимает сообщения, регистрационные данные от клиентов и сохраняет их в базе
* при первом запуске сервера и клиента создаются config_client.ini и config_server.ini в домашнем каталоге запускающего пользователя, а сервер создает на сервере mysql базу с именем `chatdb` и необходимыми таблицами
* для взаимодействия с СУБД MySQL реализованы два класса `DB_MySQL` и `DB_MyODBC` (только для Windows), использующие интерфейсы MySQLAPI и ODBC соответственно, переключение между интерфейсами настраивается в серверном конфиге м помощью ключевых слов `mysqlapi` и `myodbc`

При разработке использовались контейнеры стандартной библиотеки шаблонов (Задание 16.9.1 (PJ-04)).

Общие классы:
* `User` - класс для описания пользователя со строковыми полями: логин (`_login`), пароль (`_password`), имя (`_name`)
* `Message` - класс для сообщения со строковыми полями: текст сообщения (`_text`) и `_from`, `_to` для хранения логинов и полем `_dateTime` типа `time_t` для хранения времени сообщения
* Обработка исключений
  - `UserLoginExc` - при попытке регистрации пользователей с одинаковыми логинами
  - `UserNameExc` - при попытке регистрации пользователей с одинаковыми именами

Классы сервера:
* `NetServer` - отвечает за взаимодействие с сетью. Методы:
  - `start()` - инициализация, привязка сокета
  - `acception()` - подготовка взаимодействия с клиентом
  - `Exit()` - остановка сервера
  - `sendMsg()` - отправка сообщения клиенту
  - `getMsg()` - получение сообщения от клиента
* `ChatServer` - содержит динамические массивы пользователей (`_users`) и сообщений (`_messages`) и соответствующие методы для обработки пользователей и сообщений
  - `clientHandler()` - классифицирует сообщения клиента и вызывает соответствующие методы для обработки этих сообщений
* `DB_MySQL` - отвечает за взаимодействие с MySQL. Методы:
  - `db_start()` - инициализация подключения к базе данных, создание необходимых дескрипторов
  - `initdb()` - создание, в случае отсутствия, базы и необходимых таблиц в базе
  - `sendRequest()` - Запись данных в базу (INSERT, UPDATE)
  - `getRequest()` - чтение данных из базы
* `DB` - Абстрактный базовый класс для работы с базой данных
* `DB_Interface` - Класс выбора интерфейса базы данных

Классы клиента:
* `NetClient` - отвечает за взаимодействие с сетью. Методы:
  - `start()` - инициализация сетевого взаимодействия
  - `Exit()` - остановка клиента
  - `sendMsg()` - отправка сообщения серверу
  - `getMsg()` - получение сообщения от сервера
* `ChatClient` - содержит динамические массивы пользователей (`_users`) и сообщений (`_messages`) и соответствующие методы для обработки пользователей и сообщений
Функции `initMenu()` и `userMenu()` реализуют общую логику приложения и пользовательский интерфейс.
Функции `showUserList()` и `showChat()` отображают списки пользователей и сообщений соответственно.

При аутентификации пользователя (функция `login()`) указатель `_currentUser` указывает на активного пользователя. Таким образом он попадает в общий чат. При определении указателя `_userForChat` (функция `setUserForChat()`) пользователь попадает в чат с конкретным пользователем.

### Замечание 1
Особенности данной версии:
1. Сервер обслуживает одного клиента. При выходе из приложения клиента, клиент дает команду на выключение сервера.
2. Обработка ошибок не реализована до конца. В частности, для корректной работы программы логин и пароль необходимо вводить только латинницей
3. При работе с интерфесом ODBC не поддерживаются кириллические символы (пока не решена проблема)

### Замечание 2
Реализовано кроссплатформенное решение. Проект компилируется в Windows и Linux. В Windows и Linux латинские и кириллические символы вводятся и отображаются корректно.
